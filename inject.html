<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inject Code Developer Mode</title>
</head>
<body>
  
    <!-- Pixiv x Cloudinary Original Size -->
    <script>
        const GetElementImages = document.querySelectorAll('.gtm-expand-full-size-illust');

        GetElementImages.forEach(link => {
            const img       = link.querySelector('img');
            const newSrc    = link.getAttribute('href');
            img.setAttribute('src', newSrc);
        });

    </script>

    <!-- Pixiv x Cloudinary Thumbnail -->
    <script>
        const GetElementArtist  = document.querySelector('.sc-d98f2c-0.sc-cwiweh').textContent;
        const GetElementImage   = document.querySelectorAll('.sc-1qpw8k9-1.jOmqKq');
        const GetElementTitle   = document.querySelector('.sc-1u8nu73-3.lfwBiP').textContent;
        const GetElementTag     = document.querySelectorAll("ul.gZfuPH a");
        const GetElementCode    = document.querySelector('.eStCAU');
        const GetData           = new Date();

        const ArrayTag          = Array.from(GetElementTag);
        const ArrayImage        = Array.from(GetElementImage, img => img.getAttribute('src').split('/').pop().replace('.jpg', ''));
        
        const FilterTag         = ArrayTag.filter((link) => !link.classList.contains("gtm-new-work-tag-event-click"));
        const FilterDate        = GetData.toISOString();
        
        const DataSlug          = btoa(unescape(encodeURIComponent(GetElementTitle)));
        const DataTag           = FilterTag.map((link) => link.textContent);
        const DataCover         = `https://res.cloudinary.com/dvdute5j8/image/upload/c_scale,w_240/Nsfw/${GetElementArtist}/${ArrayImage[0]}.webp`;
        const DataImage         = Array.from(ArrayImage, doc => `https://res.cloudinary.com/dvdute5j8/image/upload/Nsfw/${GetElementArtist}/${doc}.webp`)

   
        const NewElement = `
            <div style="padding:10px;">
                <p>Full Data</p>
                <textarea style="width: -webkit-fill-available;height: 400px; border: none; border-radius: 5px; background: #4c4c4c;padding: 10px; color:white; margin-bottom:20px">
                    {
                        "Type"   : "nsfw",
                        "Artist" : "${GetElementArtist}",
                        "Post"   : [
                            {
                                "Title"     : "${GetElementTitle}",
                                "Slug"      : "${btoa(unescape(encodeURIComponent(FilterDate)))}",
                                "Tag"       : [${DataTag.map(doc => `"${doc}"` )}],
                                "Cover"     : "${DataCover}",
                                "Image"     : [${DataImage.map(doc => `"${doc}"` )}],
                                "Uploaded"  : "${FilterDate.slice(0, 10)}"
                            }
                        ]
                    }
                </textarea>
            </div>
        `;

        GetElementCode.innerHTML += NewElement;
    </script>

    <!-- Hentaibar -->
    <script>
        var getUrl      = window.location.href;
        var getTitle    = document.querySelector('.heading__title').textContent;
        var getSlug     = getUrl.split('/');
        var getSeries   = document.querySelector('.trailer__cols .trailer__col .btn-group .btn-group__item .btn--primary').textContent;
        var getTags     = document.querySelectorAll('.trailer__cols .trailer__col .btn-group .btn-group__item .btn--primary');
        var blockTags   = ["action","adventure","ahegao","anal","bdsm","big boobs","blowjob","bondage","boobjob","boy love","censored","cgi","comedy","cosplay","creampie","dark skin","drama","ecchi","facial","fantasy","femdom","footjob","futanari","gangbang","glasses","handjob","harem","incest","lactation","large breasts","loli","mastrubation","milf","mind break","mind control","nekomimi","ntr","orgy","public sex","plot","point of view","pregnant","rape","reverse rape","rimjob","romance","scat","school girl","squirting","swimsuit","teacher","tentacles","trap","tsundere","ugly bastard","uncensored","urination","vanilla","virgin","watersports","yaoi","yuri"]

        var dataTags    = [];
    
        getTags.forEach(function (doc) {
            if (blockTags.includes(doc.textContent)) {
                dataTags.push(doc.textContent);
            }
        });

        document.querySelector(".trailer__row .comments").innerHTML =
            `
            <div>
                <textarea style="height:250px; width:100%; font-size:7pt">
                    {
                        "Url"          : "${getUrl}",
                        "Title"        : "${getTitle}",
                        "Slug"         : "${getSlug[getSlug.length - 2]}",
                        "Series"       : "${getSeries}",
                        "Tags"         : ${JSON.stringify(dataTags)},
                        "Released"     : ${JSON.stringify(dataTags.find(item => /^\d{4}$/.test(item)))},
                        "Uploaded"     : "${new Date().toISOString().slice(0, 10)}"
                    },
                </textarea>
            </div>
        `;
    </script>

    <script>
        var tagImage = document.querySelectorAll('#readerarea .ts-main-image')
        
        var arrayImage = [];
        
        tagImage.forEach(function (doc) {
            arrayImage.push(doc.src);
        });

        console.log(arrayImage)
    </script>

    <!-- Hanime x Cloudinary -->
    <script>
        var tagHanime       = window.location.href;
        var tagUrlCover     = document.querySelector('.clearfix .hvpi-cover-container img').src;
        var tagCover        = document.querySelector('.clearfix .hvpi-cover-container img').src.replace('.png', '').replace('.PNG', '').replace('.jpg', '').replace('.jpeg', '').split('/');
        var tagTitle        = document.querySelector('.tv-title').textContent;
        var tagSlug         = tagHanime.split('/');
        var tagBrand        = document.querySelectorAll('.hvpimbc-item .hvpimbc-text')[0].textContent;
        var tagRelease      = document.querySelectorAll('.hvpimbc-item .hvpimbc-text')[2].textContent;
        var tagUpload       = document.querySelectorAll('.hvpimbc-item .hvpimbc-text')[3].textContent;
        var tagAlternative  = document.querySelectorAll('.hvpimbc-item h2 .grey--text');
        var tagTags         = document.querySelectorAll('.hvpi-summary .hvpis-text a');
        var tagDescription  = document.querySelectorAll('.hvpi-summary .hvpis-text .hvpist-description p');

        var getReleaseDate  = new Date(tagRelease);
        var getUploadDate   = new Date(tagUpload);

        var getReleaseYear  = getReleaseDate.getFullYear();
        var getReleaseMonth = String(getReleaseDate.getMonth() + 1).padStart(2, '0');
        var getReleaseDay   = String(getReleaseDate.getDate()).padStart(2, '0');
        
        var getUploadYear  = getUploadDate.getFullYear();
        var getUploadMonth = String(getUploadDate.getMonth() + 1).padStart(2, '0');
        var getUploadDay   = String(getUploadDate.getDate()).padStart(2, '0');

        var arrayAlternative = [];
        var arrayTags        = [];
        var arrayDescription = [];
    
        tagAlternative.forEach(function (doc) {
            arrayAlternative.push(doc.textContent);
        });
        
        tagTags.forEach(function (doc) {
            arrayTags.push(doc.textContent);
        });
        
        tagDescription.forEach(function (doc) {
            arrayDescription.push(doc.textContent);
        });

        window.open(tagUrlCover, '_blank')

        document.querySelector(".htv-video-page-info .hvpi-summary .wrap").innerHTML =
        `
        <textarea style="height:250px; width:100%; font-size:10pt">
            {
                "hentaibar"    : "",
                "hanime"       : "${tagHanime}",
                "cover"        : "https://res.cloudinary.com/dvdute5j8/image/upload/c_scale,w_240/Eronime/${tagCover[tagCover.length - 1]}.webp",
                "title"        : "${tagTitle}",
                "alternative"  : [${arrayAlternative.map(doc => `"${doc}"` )}],
                "slug"         : "${tagSlug[tagSlug.length - 1]}",
                "description"  : "${arrayDescription.join(', ').replace(/['"]/g, "'")}",
                "brand"        : "${tagBrand}",
                "tags"         : [${arrayTags.map(doc => `"${doc}"` )}],
                "release"      : "${getReleaseYear}-${getReleaseMonth}-${getReleaseDay}",
                "upload"       : "${getUploadYear}-${getUploadMonth}-${getUploadDay}"
            },
        </textarea>      
        `;
    </script>


    <script>
        {	
            const Image     = document.getElementsByClassName("hvpi-cover")[0].getAttribute('src')
            const Title     = document.getElementsByClassName("tv-title")[0].textContent
            const Brand     = document.getElementsByClassName("hvpimbc-text")[0].textContent
            const Released  = document.getElementsByClassName("hvpimbc-text")[2].textContent

            const Genre     = document.getElementsByClassName("hvpis-text")[0];
            const GenreCh   = Genre.getElementsByClassName("btn--router");
            const Length    = GenreCh.length;
            
            const GetMonth  = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            const GetDate   = new Date();

            for(var i=0; i < Length; i++ ){
                const GetGenre = Genre.getElementsByClassName("btn__content")[i].textContent;

                BulkGenre.push(GetGenre)  
            }

            Bulk.push(
                {
                    "Backup"       : "https://hentaibar.com/videos/2863/ova-succubus-yondara-gibo-ga-kita-episode-2-english-subbed/",
                    "Embed"        : "https://dood.re/e/7nv7dbfqswax",
                    "Download_Url" : "https://dood.re/d/7nv7dbfqswax",
                    "Shortlink"    : "https://ouo.io/MqUXDC3",
                    
                    "Type"         : "hentai",
                    "Title"        : Title,
                    "Slug"         : Title.toString().toLowerCase().replace(/^-+/, '').replace(/-+$/, '').replace(/\s+/g, '-').replace(/\-\-+/g, '-').replace(/[^\w\-]+/g, ''),
                    "Image"        : `${Title.toString().toLowerCase().replace(/^-+/, '').replace(/-+$/, '').replace(/\s+/g, '-').replace(/\-\-+/g, '-').replace(/[^\w\-]+/g, '')}.webp`,
                    "Brand"        : Brand,
                    "Tags"         : BulkGenre,
                    "Released"     : Released,
                    "Uploaded"     : `${GetMonth[GetDate.getMonth()]} ${GetDate.getDate()}, ${GetDate.getFullYear()}`,
                    "Share"        : false,
                }
            )

            const inn  = document.getElementsByClassName("htv-video-page-action-bar")[0]
            inn.getElementsByClassName("menu")[0].innerHTML = 
            `
            <div style="padding:10px; background:#00aeef; position: fixed; top: 0px; left: 0px; z-index: 99999;">
            <pre>
            {
                "Backup"       : "${Bulk[0].Backup}",
                "Embed"        : "${Bulk[0].Embed}",
                "Download_Url" : "${Bulk[0].Download_Url}",
                "Shortlink"    : "${Bulk[0].Shortlink}",
                "Type"         : "${Bulk[0].Type}",
                "Title"        : "${Bulk[0].Title}",
                "Slug"         : "${Bulk[0].Slug}",
                "Image"        : "${Bulk[0].Image}",
                "Brand"        : "${Bulk[0].Brand}",
                "Tags"         : [${Bulk[0].Tags.map(doc => `"${doc}"` )}],
                "Released"     : "${Bulk[0].Released.replace(',', '')}",
                "Uploaded"     : "${Bulk[0].Uploaded.replace(',', '')}",
                "Share"        : ${Bulk[0].Share}
            },
            <pre>    
            </div>
            `;
        }

    </script>
</body>
</html>